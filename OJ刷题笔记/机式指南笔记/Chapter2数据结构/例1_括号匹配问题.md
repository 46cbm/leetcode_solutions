# 例1_括号匹配问题

**题目描述：**

```
输入字符串只有左括号、右括号和大小写字母。
在下一行标出不能匹配的括号。不能匹配的左括号用‘$’标注，不能匹配的右括号用‘?’标注
```

**输入：**

```
输入包括多组数据，每组数据一行，包含一个字符串，字符串长度不超过100
```

**输出：**

```
对每组数据，输出两行，第一行包含原始输入字符，第二行由'$','?'和空格组成
```

**输入样例：**

```
)(rttyy())sss)(
```

**输出样例：**

```
)(rttyy())sss)(
?            ?$
```



**思路：**

```
用一个栈来存放左括号在字符串中的下标
```



**代码：**

```c++
#include<stdio.h>
#include<stack>
using namespace std;

stack<int> s;		//存放左括号的下标
char str[110];
char ans[110];

int main() {
	while (scanf("%s", str) != EOF) {
		int i;
		for (i = 0; str[i] != 0; i++) {
			if (str[i] == '(') {
				s.push(i);
				ans[i] = ' ';
			}else if(str[i] == ')'){
				if (s.empty() == false) {
					s.pop();
					ans[i] = ' ';
				}
				else
					ans[i] = '?';		//i位置的右括号不能匹配
			}
			else
				ans[i] = ' ';		  //其他字符
		}
		while (s.empty() == false) {  //字符串已经扫描完，但是之前的左括号没有匹配
			ans[s.top()] = '$';
			s.pop();
		}
		ans[i] = 0;		//为了形成字符串，在最后一个字符后面加空字符
		puts(str);
		puts(ans);
	}
	return 0;
}
```


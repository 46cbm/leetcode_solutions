# 例7_背包问题

**题目描述：**

```
有m元钱，n种物品。每种物品j磅，总价格f元。
可以使用0到f之间的任意价格购买物品。如用0.3f元购买0.3j磅的物品。
要求输出用m元最多能买到多少磅的物品。
```

**输入：**

```
每组数据第一行输入m和n，m为浮点型，n为整数。输入-1 -1表示结束
```

**输出：**

```
每行输出该组数据求得的最大重量。
```

**输入样例：**

```
5 3 
7 2
4 3
5 2
20 3
25 18
24 15
15 10
-1 -1
```

**输出样例：**

```
13.333
31.500
```



**思路：**

```
注意不是屈婉玲视频中讲的背包问题，此处物品可以按价格拆分买。由贪心算法可以得到最优解。
```



**代码：**

```c++
#include<iostream>
#include<algorithm>
using namespace std;

struct goods {
	double j;		//总重量
	double f;		//总价格
	double s;		//性价比 即重量价格比
	bool operator <(const goods &A) const {		//性价比按降序排列
		return s > A.s;
	}
}buf[1000];

int main() {
	double m;
	int n;
	while (scanf("%lf %d", &m, &n) != EOF) {
		if (m == -1 && n == -1)break;
		for (int i = 0; i < n; i++) {
			scanf("%lf %lf", &buf[i].j, &buf[i].f);
			buf[i].s = buf[i].j / buf[i].f;
		}
		sort(buf, buf + n);
		int idx = 0;
		double sum = 0;
		while (m > 0 && idx < n) {
			if (m > buf[idx].f) {		//可以全部买下
				sum += buf[idx].j;
				m -= buf[idx].f;
			}
			else {
				sum += buf[idx].s * m;	//钱不够，只能买部分
				m = 0;
			}
			idx++;
		}
		printf("%.3lf\n", sum);
	}
	return 0;
}
```

